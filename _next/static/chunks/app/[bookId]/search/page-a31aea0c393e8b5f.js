(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4],{377:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,7981,23)),Promise.resolve().then(s.bind(s,1418)),Promise.resolve().then(s.bind(s,6928)),Promise.resolve().then(s.bind(s,5142)),Promise.resolve().then(s.t.bind(s,6744,23)),Promise.resolve().then(s.bind(s,2929)),Promise.resolve().then(s.bind(s,5828))},1183:()=>{},1418:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(5155);s(8518);var a=s(8996);let n=function({bookDescription:e}){let{slug:t,subtitle:s,title:n}=e;return(0,r.jsx)("section",{className:"BookDescription",children:(0,r.jsxs)("div",{className:"BookDescription__content",children:[(0,r.jsx)(a.default,{bookId:t}),(0,r.jsxs)("div",{className:"BookDescription__info",children:[(0,r.jsx)("h3",{className:"BookDescription__title",children:n}),(0,r.jsx)("div",{className:"BookDescription__subtitle ellipsis",children:s})]})]})})}},2929:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(5155),a=s(9730),n=s.n(a);s(6835);var l=s(3204),i=s(7574);let o=function({bookId:e,pages:t}){let s=(0,i.N)();return(0,r.jsxs)("div",{className:"PageList",children:[(0,r.jsx)("h6",{className:"PageList__title",children:(0,l.Tl)(e,"SEARCH_PAGE.PAGE_LIST")}),(0,r.jsx)("ul",{className:"PageList__list",children:t.map(e=>{let t=n()("PageList__button",s===e.page&&"PageList__button--active");return(0,r.jsx)("li",{className:"PageList__item",children:(0,r.jsx)("a",{href:e.path,title:e.title,children:(0,r.jsx)("button",{className:t,children:e.page})})},e.page)})})]})}},3229:()=>{},5433:()=>{},5828:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(5155),a=s(2115);s(5433),s(3229);var n=s(3204);let l=function({bookId:e,value:t,onClear:s,onInput:a,onSubmit:l}){return(0,r.jsxs)("div",{className:"SearchControls",children:[(0,r.jsxs)("div",{className:"SearchControls__container",children:[(0,r.jsx)("input",{autoFocus:!0,className:"SearchControls__input",placeholder:(0,n.Tl)(e,"SEARCH_PAGE.INPUT_PLACEHOLDER"),type:"text",value:t,onChange:e=>a(e.target.value),onKeyDown:e=>{("Enter"===e.key||13===e.keyCode)&&l()}}),(0,r.jsx)("button",{className:"NoBorderButton SearchControls__clear",onClick:s,title:(0,n.Tl)(e,"SEARCH_PAGE.CLEAR"),children:(0,r.jsx)("span",{className:"icon-xmark-large"})})]}),(0,r.jsx)("button",{className:"RoundButton RoundButton--dark SearchControls__submit",onClick:l,title:(0,n.Tl)(e,"SEARCH_PAGE.FIND"),children:(0,r.jsx)("span",{className:"icon-search"})})]})};s(1183);let i=function({results:e}){return 0===e.length?null:(0,r.jsx)("ul",{className:"SearchResults",children:e.map(e=>(0,r.jsx)("li",{className:"SearchResults__item",children:(0,r.jsxs)("a",{href:e.link,children:[(0,r.jsx)("h5",{className:"SearchResults__title",dangerouslySetInnerHTML:{__html:e.htmlTitle}}),(0,r.jsx)("div",{className:"SearchResults__text",dangerouslySetInnerHTML:{__html:e.htmlSnippet}})]})},e.link))})};class o extends a.PureComponent{startSearch(){let{page:e,query:t,results:s,resultsForQuery:r}=this.state;t&&(this.setState({isLoading:!0,...1===e&&{hasNotFound:!1,results:[]}}),fetch(`https://www.googleapis.com/customsearch/v1?key=AIzaSyCt4jPTSY3LKh14RrS7SmQPfguyhQ_y2vU&cx=f0691c438c8d24df4&start=${(e-1)*10+1}&q=${t}`,{headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(({items:e,searchInformation:t})=>({items:e,itemsTotal:parseInt(t.totalResults)})).then(({items:a,itemsTotal:n})=>{let l={};a&&0!==n?(l.results=r===t?[...s,...a]:a,l.results.length<n?l={...l,hasMore:!0,page:e+1}:l.hasMore=!1):l=1===e?{hasNotFound:!0}:{hasMore:!1},l.isLoading=!1,l.resultsForQuery=t,this.setState(l)}).catch(e=>{this.setState({isLoading:!1}),console.error(e)}))}render(){let{bookId:e,pageList:t}=this.props,{hasMore:s,hasNotFound:a,isLoading:o,query:c,results:h}=this.state;return(0,r.jsxs)("div",{className:"SearchModule",children:[(0,r.jsx)("header",{className:"SearchModule__header",children:(0,r.jsx)(l,{bookId:e,value:c,onInput:this.handleInput,onClear:this.handleClear,onSubmit:this.handleSubmit})}),(0,r.jsxs)("main",{className:"SearchModule__content",children:[a||o||h.length>0||t,a&&(0,r.jsx)("div",{className:"SearchModule__nothing",children:(0,n.Tl)(e,"SEARCH_PAGE.NO_RESULTS")}),(0,r.jsx)(i,{results:h}),s&&(0,r.jsx)("div",{className:"SearchModule__more",children:(0,r.jsx)("button",{className:"RoundButton RoundButton--dark",onClick:this.handleMore,children:(0,n.Tl)(e,"SEARCH_PAGE.LOAD_MORE")})})]})]})}constructor(...e){super(...e),this.state={hasMore:!1,hasNotFound:!1,isLoading:!1,page:1,query:"",results:[],resultsForQuery:""},this.handleClear=()=>this.setState({hasNotFound:!1,query:"",results:[]}),this.handleInput=e=>this.setState({query:e}),this.handleMore=()=>this.startSearch(),this.handleSubmit=()=>this.startSearch()}}let c=o},6434:()=>{},6835:()=>{},7981:()=>{},8518:()=>{},8996:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(5155);s(6434);var a=s(916);let n=function({bookId:e}){let t=a.gI.IMG.THUMBNAIL+"thumbnail-"+e+".jpg",s=a.gI.IMG.THUMBNAIL+"thumbnail-"+e+".jpg 1x,"+a.gI.IMG.THUMBNAIL+"thumbnail-"+e+"@2.jpg 2x";return(0,r.jsx)("div",{className:"BookThumbnail",children:(0,r.jsx)("img",{alt:"",className:"BookThumbnail__image",srcSet:s,src:t})})}},9730:(e,t)=>{var s;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var s=arguments[t];s&&(e=n(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var s in e)r.call(e,s)&&e[s]&&(t=n(t,s));return t}(s)))}return e}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(s=(function(){return a}).apply(t,[]))||(e.exports=s)}()}},e=>{e.O(0,[474,985,261,172,265,256,441,794,358],()=>e(e.s=377)),_N_E=e.O()}]);