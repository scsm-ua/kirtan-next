(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[989],{140:()=>{},260:()=>{},766:()=>{},1166:()=>{},1338:()=>{},1581:(e,s,t)=>{"use strict";t.d(s,{default:()=>h});var n=t(5155),a=t(2115),r=t(3627);t(9006);var l=t(916),i=t(9549),o=t(3204);function c(e){e.target.select()}let d=function({bookId:e,onClose:s}){let[t,r]=(0,a.useState)(null);return((0,a.useEffect)(()=>{r(window.location.href)},[]),t)?(0,n.jsxs)("div",{className:"SongShare",children:[(0,n.jsx)("header",{className:"SongShare__header",children:(0,n.jsx)("h4",{className:"SongShare__title",children:(0,o.Tl)(e,"SONG_PAGE.SHARE")})}),(0,n.jsx)("div",{className:"SongShare__qr",children:(0,n.jsx)(i.Ay,{size:240,value:t})}),(0,n.jsxs)("div",{className:"SongShare__copy",children:[(0,n.jsx)("label",{htmlFor:"",className:"SongShare__label",children:(0,o.Tl)(e,"SONG_PAGE.COPY_LINK")}),(0,n.jsxs)("div",{className:"SongShare__form",children:[(0,n.jsx)("input",{className:"SongShare__input",onClick:c,readOnly:!0,type:"text",value:t}),(0,n.jsx)("button",{className:"AppButton RoundButton RoundButton--L RoundButton--dark SongShare__share",onClick:()=>{navigator.clipboard.writeText(t).catch(console.error),setTimeout(s,300)},title:(0,o.Tl)(e,"SONG_PAGE.COPY"),children:(0,n.jsx)("span",{className:"icon-copy"})})]})]})]}):null},h=function({bookId:e}){let[s,t]=(0,a.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{className:"NoBorderButton SongShare__button",onClick:()=>t(!0),title:(0,o.Tl)(e,"SONG_PAGE.SHARE_SONG"),children:(0,n.jsx)("span",{className:"icon-arrow-up-from-bracket"})}),(0,n.jsx)(r.a,{center:!0,classNames:l.Eq,onClose:()=>t(!1),open:s,children:(0,n.jsx)("div",{className:"AppModal__content",children:(0,n.jsx)(d,{bookId:e,onClose:()=>t(!1)})})})]})}},2006:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var n=t(5155),a=t(168);t(5210);let r=function({children:e,trigger:s,...t}){return(0,n.jsxs)(a.bL,{className:"Collapse",...t,children:[s&&(0,n.jsx)(a.l9,{asChild:!0,children:s}),(0,n.jsx)(a.UC,{className:"Collapse__content",children:e})]})}},2161:()=>{},2462:()=>{},3056:(e,s,t)=>{"use strict";t.d(s,{Ot:()=>a,T8:()=>l,ZD:()=>o,xd:()=>i});var n=t(916);function a(e){try{localStorage.setItem(n.r5.PREFERRED_BOOK_ID,e)}catch(e){console.error(e)}}let r="SONG_DISPLAY_MODE";function l(){return localStorage.getItem(r)||"3"}function i(e){localStorage.setItem(r,e)}function o(){return!!localStorage.getItem("SHOW_HIDDEN_BOOKS")}},4111:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,9151,23)),Promise.resolve().then(t.bind(t,8996)),Promise.resolve().then(t.bind(t,6928)),Promise.resolve().then(t.bind(t,784)),Promise.resolve().then(t.bind(t,5142)),Promise.resolve().then(t.t.bind(t,6744,23)),Promise.resolve().then(t.bind(t,8340)),Promise.resolve().then(t.bind(t,9898)),Promise.resolve().then(t.t.bind(t,7190,23)),Promise.resolve().then(t.t.bind(t,766,23)),Promise.resolve().then(t.bind(t,5696)),Promise.resolve().then(t.bind(t,7646)),Promise.resolve().then(t.t.bind(t,2161,23)),Promise.resolve().then(t.bind(t,1581)),Promise.resolve().then(t.bind(t,5004)),Promise.resolve().then(t.t.bind(t,622,23))},4372:(e,s,t)=>{"use strict";function n(e){document.getElementById("section-"+e)?.scrollIntoView({behavior:"smooth"})}function a(e){return"https://w.soundcloud.com/player/?url="+encodeURIComponent(e)}t.d(s,{YJ:()=>n,_4:()=>a}),t(916)},4442:()=>{},5004:(e,s,t)=>{"use strict";t.d(s,{default:()=>b});var n=t(5155),a=t(9730),r=t.n(a),l=t(2115);t(260);var i=t(3056);t(3120);var o=t(3837);t(7032);let c=function(){return(0,n.jsxs)("div",{className:"SongLoader",children:[(0,n.jsxs)("header",{className:"SongLoader__header",children:[(0,n.jsx)(o.A,{circle:!0,containerClassName:"SongLoader__avatar",height:36,width:36}),(0,n.jsx)(o.A,{containerClassName:"SongLoader__title",width:200})]}),(0,n.jsxs)("main",{className:"SongLoader__main",children:[(0,n.jsx)(o.A,{containerClassName:"SongLoader__span",height:20}),(0,n.jsx)(o.A,{containerClassName:"SongLoader__span",height:20}),(0,n.jsx)("div",{className:"SongLoader__block",children:(0,n.jsx)(o.A,{count:3})})]})]})};t(1338);class d extends l.PureComponent{emitChange(e){this.setState({mode:e}),this.props.onChange(e)}render(){return(0,n.jsx)("span",{className:"ThreeModeSwitch","data-mode":this.state.mode,children:(0,n.jsxs)("span",{className:"wrap",children:[(0,n.jsxs)("span",{className:"pill",tabIndex:0,role:"group","aria-label":"three-mode-pill",children:[(0,n.jsx)("span",{className:"fill"}),(0,n.jsx)("span",{className:"slot left",onClick:this.handleLeft,children:(0,n.jsx)("span",{className:"dot left",children:(0,n.jsx)("span",{className:"left-label",children:(0,n.jsx)("span",{className:"icon left"})})})}),(0,n.jsx)("span",{className:"slot right",onClick:this.handleRight,children:(0,n.jsx)("span",{className:"dot right",children:(0,n.jsx)("span",{className:"right-label",children:(0,n.jsx)("span",{className:"icon right"})})})})]}),(0,n.jsx)("span",{className:"label-text",onClick:this.handleLabel,children:this.props.label})]})})}constructor(...e){super(...e),this.state={mode:this.props.value},this.handleLabel=()=>{let e;switch(this.state.mode){case"1":e="2";break;case"2":default:e="3";break;case"3":e="1"}this.emitChange(e)},this.handleLeft=()=>{let e;switch(this.state.mode){case"1":default:e="3";break;case"2":case"3":e="1"}this.emitChange(e)},this.handleRight=()=>{let e;switch(this.state.mode){case"1":case"3":e="2";break;default:e="3"}this.emitChange(e)}}}d.defaultProps={onChange:console.log},t(1166);var h=t(2006);t(6813);let u=/<[^>]+>/gi,m=/(\([^\)]+\))/gi,p=/(\([^\)]+)\s*$/gi,x=/^(\s*)([^\)]+\))/gi,_=function({hasNumber:e,meta:s,text:t}){return(0,n.jsx)("ul",{className:"VerseText",children:t.map(t=>{let a,l=(a=t.replace(u,""),s&&"non bold"===s["verse parentheses"]?a=(a=(a=a.replace(m,'<span class="Verse__light">$1</span>')).replace(p,'<span class="Verse__light">$1</span>')).replace(x,'$1<span class="Verse__light">$2</span>'):s&&"non bold"===s["inline verse"]&&!e&&(a=`<span class="Verse__light">${a}</span>`),a=(a=a.replace(/^\s+/,"")).replace(/\s{4}/gi,'<span class="Verse__space">&nbsp;&nbsp;&nbsp;&nbsp;</span>'));if(!l)return(0,n.jsx)("li",{children:(0,n.jsx)("br",{})},t);let i=r()("VerseText__line","VerseText__indent--"+function(e){let s=e.match(/^\s+/);if(s){let e=Math.floor(s[0].length/4);return e>4?4:e}return 0}(t));return(0,n.jsx)("li",{className:i,dangerouslySetInnerHTML:{__html:l}},t)})})};t(7743);var N=t(1220);let j=function({isWide:e,isWBW:s,translation:t}){let a=r()("VerseTranslation__paragraph",e&&"VerseTranslation__paragraph--wide",s&&"VerseTranslation__paragraph--dark");return(0,n.jsx)("ul",{className:"VerseTranslation",children:(0,N.w)(t,"VerseWbw").map(e=>(0,n.jsx)("li",{children:(0,n.jsx)("p",{className:a,dangerouslySetInnerHTML:{__html:e}})},e))})};t(6458);let g=function({lines:e}){return(0,n.jsx)("ul",{className:"VerseWbw",children:(0,N.w)(e,"VerseWbw").map((e,s)=>(0,n.jsx)("li",{children:(0,n.jsx)("p",{className:"VerseWbw__paragraph",dangerouslySetInnerHTML:{__html:e}})},s))})},v=function({isWBW:e,length:s,meta:t,mode:a,verse:l}){let{number:i,subtitle:o,text:c,translation:d,word_by_word:u}=l,m="1"===a||"3"===a,p="3"===a,x="2"===a||"3"===a,N=r()("Verse__subtitles","2"===a&&"Verse__subtitles--large");return(0,n.jsxs)("li",{className:"Verse","data-mode":a,children:[o?.length>0&&x&&(0,n.jsx)("div",{className:N,children:o.map(e=>(0,n.jsx)("div",{children:e},e))}),s>1&&i&&(0,n.jsx)("header",{className:"Verse__header",children:(0,n.jsx)("h6",{className:"Verse__title",children:i})}),c?.length>0&&(0,n.jsx)(h.A,{defaultOpen:m,open:m,children:(0,n.jsx)(_,{hasNumber:!!i,meta:t,text:c})}),e&&(0,n.jsx)(h.A,{defaultOpen:p,open:p,children:(0,n.jsx)(g,{lines:u})}),d?.length>0&&(0,n.jsx)(h.A,{defaultOpen:x,open:x,children:(0,n.jsx)(j,{isWide:"2"===a,isWBW:e,translation:d})})]})},b=function({label:e,song:s}){let[t,a]=(0,l.useState)(null),[o,h]=(0,l.useState)(0),u=!("translation"in s.meta)||"no"!==s.meta.translation,m=!!s.verses.find(e=>e.word_by_word?.length>0),p=r()("SongText","2"===t&&"SongText--wide",o>0&&"SongText--transition");return(0,l.useEffect)(()=>{a((0,i.T8)())},[]),(0,n.jsx)("main",{className:p,children:t?(0,n.jsxs)(n.Fragment,{children:[u&&(0,n.jsx)("div",{className:"SongText__toggle",children:(0,n.jsx)(d,{label:e,onChange:e=>{h(e=>++e),(0,i.xd)(e),a(e)},value:t})}),(0,n.jsx)("ul",{className:"SongText__list",children:s.verses.map((e,a,r)=>(0,n.jsx)(v,{isWBW:m,length:r.length,meta:s.meta,mode:t,verse:e},a))})]}):(0,n.jsx)(c,{})})}},5210:()=>{},5696:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var n=t(5155);t(140);var a=t(916),r=t(7574);let l=function({bookId:e,label:s,page:t}){let l=(0,r.N)();if(!t||"string"!=typeof l)return null;let i=`/${e}`+a.gI.PAGE.SEARCH+(l?`?p=${l}`:Array.isArray(t)?`?p=${t[0]}`:t?`?p=${t}`:""),o=Array.isArray(t)?t.join(", "):t;return(0,n.jsx)("div",{className:"PageNumber",children:(0,n.jsxs)("a",{href:i,className:"PageNumber__anchor",children:[s," ",o]})})}},6434:()=>{},6458:()=>{},6566:()=>{},6813:()=>{},7032:()=>{},7190:()=>{},7225:()=>{},7646:(e,s,t)=>{"use strict";t.d(s,{default:()=>u});var n=t(5155);t(2462);var a=t(9730),r=t.n(a);t(8939);let l=function({dir:e,item:s}){let t=r()("PrevNextLink","PrevNextLink--"+e,s||"PrevNexLink--disabled"),a="PrevNextLink__icon PrevNextLink__icon--"+e;return s?(0,n.jsxs)("a",{className:t,href:s.path,children:[(0,n.jsx)("span",{className:a,children:(0,n.jsx)("span",{className:"icon-chevron-right"})}),s.title&&(0,n.jsx)("span",{className:"PrevNextLink__label ellipsis",children:s.title})]}):(0,n.jsx)("span",{className:t,"data-disabled":!0,children:(0,n.jsx)("span",{className:a,children:(0,n.jsx)("span",{className:"icon-chevron-right"})})})};var i=t(7657),o=t.n(i),c=t(2115);function d({prevNext:e}){let s=({detail:s})=>{s.directions.left&&e.next&&(window.location.href=e.next.path),s.directions.right&&e.prev&&(window.location.href=e.prev.path)};return(0,c.useEffect)(()=>(o()(document),document.addEventListener("swipe",s),()=>document.removeEventListener("swipe",s)),[e]),null}var h=t(7574);let u=function({navMap:e}){let s=(0,h.N)();if("string"!=typeof s)return null;let t=e[s]||Object.values(e)&&Object.values(e)[0]||{};return(0,n.jsxs)("div",{className:"PrevNextNav",children:[(0,n.jsx)("div",{className:"PrevNextNav__container",children:(0,n.jsxs)("div",{className:"PrevNextNav__content",children:[(0,n.jsx)(l,{dir:"prev",item:t.prev}),(0,n.jsx)(l,{dir:"next",item:t.next})]})}),(0,n.jsx)(d,{prevNext:t})]})}},7743:()=>{},8340:(e,s,t)=>{"use strict";t.d(s,{default:()=>x});var n=t(5155),a=t(2115);t(4442);var r=t(3837);t(7225);var l=t(9730),i=t.n(l);t(9693);var o=t(2006);function c({isOpen:e,onClick:s,title:t}){let a=i()("AudioContentCollapse__icon",e&&"AudioContentCollapse__icon--rotate");return(0,n.jsxs)("button",{className:"NoBorderButton AudioContentCollapse__button",onClick:s,children:[(0,n.jsx)("span",{className:a,children:(0,n.jsx)("span",{className:"icon-shevron-right"})}),(0,n.jsx)("span",{className:"AudioContentCollapse__title",children:t})]})}let d=function({title:e,...s}){let[t,r]=(0,a.useState)(!1),l=(0,n.jsx)(c,{isOpen:t,onClick:()=>r(!t),title:e});return(0,n.jsx)(o.A,{...s,open:t,trigger:l})};var h=t(4372);let u=function({isOpen:e,onPlayStart:s,url:t}){let r,l=(0,h._4)(t);return(0,a.useLayoutEffect)(()=>{(r=window.SC.Widget(l)).bind(window.SC.Widget.Events.PLAY,()=>s()),r.bind(window.SC.Widget.Events.READY,()=>e&&r.play())},[]),(0,a.useEffect)(()=>{e?r?.play():r?.pause()},[e]),(0,n.jsx)("iframe",{allow:"autoplay",frameBorder:"no",id:l,height:"20",width:"100%",scrolling:"no",src:l})};class m extends a.PureComponent{renderContent(){let{hasLibLoaded:e,title:s,url:t}=this.props,{hasIframeLoaded:a,isOpen:l}=this.state;return l||e?(0,n.jsxs)("div",{className:"AudioListItem__content",children:[e&&(0,n.jsx)(u,{isOpen:l,onPlayStart:this.handlePlayStart,url:t}),a||(0,n.jsx)("div",{className:"AudioListItem__loader",children:(0,n.jsxs)("div",{className:"AudioListItem__skeleton",children:[(0,n.jsx)(r.A,{circle:!0,containerClassName:"",height:20,width:20}),(0,n.jsx)(r.A,{containerClassName:"AudioListItem__margin",height:20,width:70}),(0,n.jsx)(r.A,{containerClassName:"",height:20,width:200})]})})]}):null}render(){let{isOpen:e}=this.state,{onOpenChange:s,title:t}=this.props;return(0,n.jsx)("div",{className:"AudioListItem",children:(0,n.jsx)(d,{onClick:this.handleOpen,onOpenChange:s,open:e,title:t,children:this.renderContent()})})}constructor(...e){super(...e),this.state={hasIframeLoaded:!1,isOpen:!1},this.handleOpen=()=>this.setState({isOpen:!this.state.isOpen}),this.handlePlayStart=()=>this.setState({hasIframeLoaded:!0})}}class p extends a.PureComponent{static{this.LIB_URL="https://w.soundcloud.com/player/api.js"}render(){let{audio:e,language:s}=this.props;return(0,n.jsx)("div",{className:"AudioList",children:(0,n.jsx)("ul",{className:"AudioList__list",children:e.map(e=>{let t=e.title[s]||e.title.en;return(0,n.jsx)(m,{hasLibLoaded:this.state.hasLibLoaded,onOpenChange:this.handleOpen,title:t,url:e.embed_url},e.embed_url)})})})}constructor(...e){super(...e),this.state={hasLibLoaded:!1},this.handleOpen=e=>{if(!e||this.state.hasLibLoaded)return;let s=document.createElement("script");s.src=p.LIB_URL,s.onload=e=>this.onLibLoad(e),s.onerror=window.console.error,document.body.appendChild(s)},this.onLibLoad=e=>this.setState({hasLibLoaded:!0})}}let x=p},8939:()=>{},8996:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});var n=t(5155);t(6434);var a=t(916);let r=function({bookId:e}){let s=a.gI.IMG.THUMBNAIL+"thumbnail-"+e+".jpg",t=a.gI.IMG.THUMBNAIL+"thumbnail-"+e+".jpg 1x,"+a.gI.IMG.THUMBNAIL+"thumbnail-"+e+"@2.jpg 2x";return(0,n.jsx)("div",{className:"BookThumbnail",children:(0,n.jsx)("img",{alt:"",className:"BookThumbnail__image",srcSet:t,src:s})})}},9006:()=>{},9151:()=>{},9693:()=>{},9898:(e,s,t)=>{"use strict";t.d(s,{default:()=>o});var n=t(5155),a=t(2115),r=t(3627);t(6566);var l=t(916),i=t(3204);let o=function({bookId:e,children:s,disabled:t}){let[o,c]=(0,a.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{className:"NoBorderButton OtherTranslations__button",disabled:t,onClick:()=>c(!0),title:(0,i.Tl)(e,"SONG_PAGE.OTHER_TRANSLATIONS"),children:(0,n.jsx)("span",{className:"OtherTranslations__label",children:e.toUpperCase()})}),(0,n.jsx)(r.a,{center:!0,classNames:l.Eq,onClose:()=>c(!1),open:o,children:(0,n.jsx)("div",{className:"AppModal__content",children:s})})]})}}},e=>{e.O(0,[904,261,172,419,694,587,199,1,441,794,358],()=>e(e.s=4111)),_N_E=e.O()}]);